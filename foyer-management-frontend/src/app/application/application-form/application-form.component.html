<div class="container mt-4">
  <h2>{{ isEditMode ? 'Modifier' : 'Ajouter' }} une Application</h2>
  
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="code" class="form-label">Code *</label>
      <input type="text" class="form-control" id="code" formControlName="code"
             [readonly]="isEditMode">
      <div *ngIf="form.get('code')?.invalid && form.get('code')?.touched" class="text-danger">
        Le code est obligatoire (max 20 caractères)
      </div>
    </div>

    <div class="mb-3">
      <label for="libelle" class="form-label">Libellé *</label>
      <input type="text" class="form-control" id="libelle" formControlName="libelle">
      <div *ngIf="form.get('libelle')?.invalid && form.get('libelle')?.touched" class="text-danger">
        Le libellé est obligatoire (max 100 caractères)
      </div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea class="form-control" id="description" formControlName="description" rows="3"></textarea>
    </div>

    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-secondary" routerLink="/applications">
        <i class="bi bi-arrow-left"></i> Retour
      </button>
      
      <button type="submit" class="btn btn-primary" [disabled]="form.invalid || isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        {{ isEditMode ? 'Mettre à jour' : 'Créer' }}
      </button>
    </div>
  </form>
</div>